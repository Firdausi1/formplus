{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Documents/Formplus/formplus/src/components/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport \"./home.css\";\nimport Body from \"./Body\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [templates, setTemplate] = useState([]);\n  const [temps, setTemps] = useState([]);\n  const [display, setDisplay] = useState(true);\n  const [list, setList] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [tempsPerPage, setTempsPerPage] = useState(15);\n  const indexOfLastTemp = currentPage * tempsPerPage;\n  const indexOfFirstTemp = indexOfLastTemp - tempsPerPage;\n  const [header, setHeader] = useState(\"All\");\n\n  const getTemplateData = async () => {\n    const url = \"https://front-end-task-dot-fpls-dev.uc.r.appspot.com/api/v1/public/task_templates\";\n    const response = await fetch(url);\n    const result = await response.json();\n    setTemplate(result.slice(1, 21));\n    setTemps(templates.slice(indexOfFirstTemp, indexOfLastTemp));\n  };\n\n  const displayTemplate = match => {\n    setTemps(match.slice(indexOfFirstTemp, indexOfLastTemp));\n  };\n\n  const filter = (searchWord, templates) => {\n    return templates.filter(template => {\n      const regex = new RegExp(searchWord, \"gi\");\n      const category = template.category.toString();\n      return template.name.match(regex) || category.match(regex);\n    });\n  };\n\n  const searchByName = e => {\n    if (e.target.value === \"\") {\n      setList(false);\n    } else {\n      // const matchSearch = filter(e.target.value, templates);\n      displayTemplate(filter(e.target.value, templates)); // setTemps(matchSearch.slice(indexOfFirstTemp, indexOfLastTemp));\n\n      setList(true);\n    }\n\n    setValue(e.target.value);\n  };\n\n  const displayList = e => {\n    // const matchSearch = filter(e.target.innerText, templates);\n    // displayTemplate(matchSearch);\n    setValue(e.target.innerText);\n    setList(false);\n  };\n\n  const searchByCategory = e => {\n    if (e.target.value === \"All\") {\n      displayTemplate(templates);\n    } else {\n      const matchSearch = filter(e.target.value, templates);\n      displayTemplate(matchSearch);\n    }\n\n    setList(false);\n    setDisplay(true);\n    setHeader(e.target.value);\n  };\n\n  const sortByName = e => {\n    if (e.target.value === \"Ascending\") {\n      const ascending = templates.sort((a, b) => {\n        const first = a.name.toLowerCase();\n        const second = b.name.toLowerCase();\n        return first > second ? 1 : -1;\n      });\n      displayTemplate(ascending);\n    } else if (e.target.value === \"Descending\") {\n      const desc = templates.sort((a, b) => {\n        const first = a.name.toLowerCase();\n        const second = b.name.toLowerCase();\n        return first < second ? 1 : -1;\n      });\n      displayTemplate(desc);\n    }\n  };\n\n  const sortByDate = e => {\n    if (e.target.value === \"Ascending\") {\n      const ascending = templates.sort((a, b) => a.created > b.created ? 1 : -1);\n      displayTemplate(ascending);\n    } else if (e.target.value === \"Descending\") {\n      const desc = templates.sort((a, b) => a.created < b.created ? 1 : -1);\n      displayTemplate(desc);\n    }\n  };\n\n  const handleNext = e => {\n    const next = Number(e.target.id) + 1;\n    setCurrentPage(next);\n  };\n\n  const handlePrev = e => {\n    const prev = Number(e.target.id) - 1;\n    setCurrentPage(prev);\n  };\n\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(templates.length / tempsPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  useEffect(() => {\n    getTemplateData();\n  }, []); // useEffect(() => {\n  // \tdisplayTemplate();\n  // }, [currentPage]);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-search\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"home-searchBar\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"search\",\n            onChange: searchByName,\n            className: \"search\",\n            placeholder: \"Search Templates\",\n            value: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"home-searchBar--icon\",\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 6\n        }, this), display && list ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"topic-list\",\n          children: temps.map(template => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: displayList,\n            children: template.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 7\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-filter\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Sort By:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \" Category \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"\",\n              onChange: searchByCategory,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"All\",\n                children: \"All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Education\",\n                children: \"Education\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"E-Commerce\",\n                children: \"E-Commerce\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Health\",\n                children: \"Health\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \" Order \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"\",\n              onChange: sortByName,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Default\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Ascending\",\n                children: \"Ascending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Descending\",\n                children: \"Descending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \" Date \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"\",\n              onChange: sortByDate,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Default\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Ascending\",\n                children: \"Ascending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Descending\",\n                children: \"Descending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"template-heading\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [header, \" Templates\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: templates.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body\",\n      children: [\" \", temps.map(template => /*#__PURE__*/_jsxDEV(Body, {\n        title: template.name,\n        description: template.description,\n        link: template.link\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 6\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"page-numbers\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        id: currentPage,\n        onClick: handlePrev,\n        children: \"Prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: currentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"of \", pageNumbers.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        id: currentPage,\n        onClick: handleNext,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Home, \"PkryG1btLmjbmBa2NgabF8Dxswk=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/macbook/Documents/Formplus/formplus/src/components/Home.js"],"names":["React","useState","useEffect","SearchIcon","Body","Home","templates","setTemplate","temps","setTemps","display","setDisplay","list","setList","value","setValue","currentPage","setCurrentPage","tempsPerPage","setTempsPerPage","indexOfLastTemp","indexOfFirstTemp","header","setHeader","getTemplateData","url","response","fetch","result","json","slice","displayTemplate","match","filter","searchWord","template","regex","RegExp","category","toString","name","searchByName","e","target","displayList","innerText","searchByCategory","matchSearch","sortByName","ascending","sort","a","b","first","toLowerCase","second","desc","sortByDate","created","handleNext","next","Number","id","handlePrev","prev","pageNumbers","i","Math","ceil","length","push","map","description","link"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport \"./home.css\";\nimport Body from \"./Body\";\n\nfunction Home() {\n\tconst [templates, setTemplate] = useState([]);\n\tconst [temps, setTemps] = useState([]);\n\tconst [display, setDisplay] = useState(true);\n\tconst [list, setList] = useState(false);\n\tconst [value, setValue] = useState(\"\");\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [tempsPerPage, setTempsPerPage] = useState(15);\n\tconst indexOfLastTemp = currentPage * tempsPerPage;\n\tconst indexOfFirstTemp = indexOfLastTemp - tempsPerPage;\n\tconst [header, setHeader] = useState(\"All\");\n\n\tconst getTemplateData = async () => {\n\t\tconst url =\n\t\t\t\"https://front-end-task-dot-fpls-dev.uc.r.appspot.com/api/v1/public/task_templates\";\n\t\tconst response = await fetch(url);\n\t\tconst result = await response.json();\n\t\tsetTemplate(result.slice(1, 21));\n\t\tsetTemps(templates.slice(indexOfFirstTemp, indexOfLastTemp));\n\t};\n\n\tconst displayTemplate = (match) => {\n\t\tsetTemps(match.slice(indexOfFirstTemp, indexOfLastTemp));\n\t};\n\n\tconst filter = (searchWord, templates) => {\n\t\treturn templates.filter((template) => {\n\t\t\tconst regex = new RegExp(searchWord, \"gi\");\n\t\t\tconst category = template.category.toString();\n\t\t\treturn template.name.match(regex) || category.match(regex);\n\t\t});\n\t};\n\n\tconst searchByName = (e) => {\n\t\tif (e.target.value === \"\") {\n\t\t\tsetList(false);\n\t\t} else {\n\t\t\t// const matchSearch = filter(e.target.value, templates);\n\t\t\tdisplayTemplate(filter(e.target.value, templates))\n\t\t\t// setTemps(matchSearch.slice(indexOfFirstTemp, indexOfLastTemp));\n\t\t\tsetList(true);\n\t\t}\n\t\tsetValue(e.target.value);\n\t};\n\tconst displayList = (e) => {\n\t\t// const matchSearch = filter(e.target.innerText, templates);\n\t\t// displayTemplate(matchSearch);\n\t\tsetValue(e.target.innerText);\n\t\tsetList(false);\n\t};\n\tconst searchByCategory = (e) => {\n\t\tif (e.target.value === \"All\") {\n\t\t\tdisplayTemplate(templates);\n\t\t} else {\n\t\t\tconst matchSearch = filter(e.target.value, templates);\n\t\t\tdisplayTemplate(matchSearch);\n\t\t}\n\t\tsetList(false);\n\t\tsetDisplay(true);\n\t\tsetHeader(e.target.value);\n\t};\n\tconst sortByName = (e) => {\n\t\tif (e.target.value === \"Ascending\") {\n\t\t\tconst ascending = templates.sort((a, b) => {\n\t\t\t\tconst first = a.name.toLowerCase();\n\t\t\t\tconst second = b.name.toLowerCase();\n\t\t\t\treturn first > second ? 1 : -1;\n\t\t\t});\n\t\t\tdisplayTemplate(ascending);\n\t\t} else if (e.target.value === \"Descending\") {\n\t\t\tconst desc = templates.sort((a, b) => {\n\t\t\t\tconst first = a.name.toLowerCase();\n\t\t\t\tconst second = b.name.toLowerCase();\n\t\t\t\treturn first < second ? 1 : -1;\n\t\t\t});\n\t\t\tdisplayTemplate(desc);\n\t\t}\n\t};\n\tconst sortByDate = (e) => {\n\t\tif (e.target.value === \"Ascending\") {\n\t\t\tconst ascending = templates.sort((a, b) => (a.created > b.created ? 1 : -1));\n\t\t\tdisplayTemplate(ascending);\n\t\t} else if (e.target.value === \"Descending\") {\n\t\t\tconst desc = templates.sort((a, b) => (a.created < b.created ? 1 : -1));\n\t\t\tdisplayTemplate(desc);\n\t\t}\n\t};\n\tconst handleNext = (e) => {\n\t\tconst next = Number(e.target.id) + 1;\n\t\tsetCurrentPage(next);\n\t};\n\tconst handlePrev = (e) => {\n\t\tconst prev = Number(e.target.id) - 1;\n\t\tsetCurrentPage(prev);\n\t};\n\tconst pageNumbers = [];\n\tfor (let i = 1; i <= Math.ceil(templates.length / tempsPerPage); i++) {\n\t\tpageNumbers.push(i);\n\t}\n\n\tuseEffect(() => {\n\t\tgetTemplateData();\n\t}, []);\n\t// useEffect(() => {\n\t// \tdisplayTemplate();\n\t// }, [currentPage]);\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<div className=\"home-search\">\n\t\t\t\t<div className=\"home-list\">\n\t\t\t\t\t<div className=\"home-searchBar\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\t\tonChange={searchByName}\n\t\t\t\t\t\t\tclassName=\"search\"\n\t\t\t\t\t\t\tplaceholder=\"Search Templates\"\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"home-searchBar--icon\">\n\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{display && list ? (\n\t\t\t\t\t\t<ul className=\"topic-list\">\n\t\t\t\t\t\t\t{temps.map((template) => (\n\t\t\t\t\t\t\t\t<li onClick={displayList}>{template.name}</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"home-filter\">\n\t\t\t\t\t<h3>Sort By:</h3>\n\t\t\t\t\t<div className=\"filters\">\n\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t<legend> Category </legend>\n\t\t\t\t\t\t\t<select name=\"\" onChange={searchByCategory}>\n\t\t\t\t\t\t\t\t<option value=\"All\">All</option>\n\t\t\t\t\t\t\t\t<option value=\"Education\">Education</option>\n\t\t\t\t\t\t\t\t<option value=\"E-Commerce\">E-Commerce</option>\n\t\t\t\t\t\t\t\t<option value=\"Health\">Health</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t<legend> Order </legend>\n\t\t\t\t\t\t\t<select name=\"\" onChange={sortByName}>\n\t\t\t\t\t\t\t\t<option value=\"\">Default</option>\n\t\t\t\t\t\t\t\t<option value=\"Ascending\">Ascending</option>\n\t\t\t\t\t\t\t\t<option value=\"Descending\">Descending</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t<legend> Date </legend>\n\t\t\t\t\t\t\t<select name=\"\" onChange={sortByDate}>\n\t\t\t\t\t\t\t\t<option value=\"\">Default</option>\n\t\t\t\t\t\t\t\t<option value=\"Ascending\">Ascending</option>\n\t\t\t\t\t\t\t\t<option value=\"Descending\">Descending</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"template-heading\">\n\t\t\t\t<h2>{header} Templates</h2>\n\t\t\t\t<p>{templates.length}</p>\n\t\t\t</div>\n\t\t\t<div className=\"body\">\n\t\t\t\t{\" \"}\n\t\t\t\t{temps.map((template) => (\n\t\t\t\t\t<Body\n\t\t\t\t\t\ttitle={template.name}\n\t\t\t\t\t\tdescription={template.description}\n\t\t\t\t\t\tlink={template.link}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<ul className=\"page-numbers\">\n\t\t\t\t<li id={currentPage} onClick={handlePrev}>\n\t\t\t\t\tPrev\n\t\t\t\t</li>\n\t\t\t\t<li>{currentPage}</li>\n\t\t\t\t<li>of {pageNumbers.length}</li>\n\t\t\t\t<li id={currentPage} onClick={handleNext}>\n\t\t\t\t\tNext\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}